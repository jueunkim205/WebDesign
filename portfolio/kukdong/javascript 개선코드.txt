document.addEventListener('DOMContentLoaded', function () {
  const nav = document.querySelector('nav');
  const mainMenu = document.querySelector('.mainMenu');
  const mainMenuItems = document.querySelectorAll('.mainMenu li');
  const subMenu = document.querySelector('.subMenu');
  const subMenuItems = document.querySelectorAll('.subMenuItem');

  // 서브 메뉴를 표시/숨기기
  function toggleSubMenu(index) {
    // 모든 서브 메뉴 항목 숨기기
    subMenuItems.forEach((item, i) => {
      item.classList.remove('on');
      if (i === index) {
        item.classList.add('on');
      }
    });
  }

  // 메인 메뉴 hover 시 서브 메뉴 표시
  mainMenu.addEventListener('mouseenter', () => {
    nav.classList.add('on');
  });

  // 서브 메뉴 외부 클릭 시 메뉴 숨기기
  subMenu.addEventListener('mouseleave', () => {
    nav.classList.remove('on');
    subMenu.classList.remove('on');
  });

  // 메인 메뉴 아이템 hover 시 서브 메뉴 보이기
  mainMenuItems.forEach((item, index) => {
    const menuLink = item.querySelector('a');

    item.addEventListener('mouseenter', () => {
      // 링크 폰트 색상 변경
      menuLink.classList.add('on');
      // 서브 메뉴 보이기
      subMenu.classList.add('on');
      toggleSubMenu(index); // 해당 서브 메뉴 표시
    });

    item.addEventListener('mouseleave', () => {
      // 링크 폰트 색상 변경
      menuLink.classList.remove('on');
    });
  });
});
